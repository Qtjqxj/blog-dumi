---
  title: 交互友好的单元格
  group: 遇到的问题
  order: 3
---

# 交互友好的单元格

## 需求

一般表格内单元格空间有限，遇到一行文字太多的情况会显示不下，而且单元格内文字折行不太美观。这就需要单元格内超出的文字用省略号显示，而且用户要能看到完整的文字，一般是在 hover 后出现。

## 解决方案

### 判断字数

首先可以想到的方法，给一个最大字数，超出的部分截断，加省略号。以 jsx 为例，可以这样写：

``` jsx | pure
// 上面拿到要渲染的数据 item
<>
  ...
  {item.text > MAX_LEN ? 
    <Tooltip>
      {}
    </Tooltip>
    : <span>{item.text}</span>}
</>
```

但是有个问题，在表格这种组件中，单元格宽度可以做响应式变化。如果页面变宽，这种固定最大字数就不能响应变化，会出现单元格能放下一行却仍有省略的情况。

### 利用 CSS 样式

``` less

width: 100px;
overflow: hidden;
text-overflow: ellipsis;
white-space: nowrap;

```

这样虽然做到了响应式变化，但是还需要对超出长度的文本加一个 Tooltip，